{% extends "base.html" %}
{% load static %}

{% block content %}
    <div class="overlay"></div>
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-sm-12 col-md-10">
                <div class="phone-details">
                    <h1>{{ phone.name }}</h1>
                    <h4>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </h4>
                    
                    <div id="phoneImages" class="carousel slide phone-image-slideshow" data-ride="carousel">
                        <ol class="carousel-indicators">
                            <li data-target="#phoneImages" data-slide-to="0" class="active"></li>
                            <li data-target="#phoneImages" data-slide-to="1"></li>
                            <li data-target="#phoneImages" data-slide-to="2"></li>
                        </ol>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="{{ phone.img_1.url }}" class="phone-image" alt="{{ phone.name }}">
                            </div>
                            <div class="carousel-item">
                                <img src="{{ phone.img_2.url }}" class="phone-image" alt="{{ phone.name }}">
                            </div>
                            <div class="carousel-item">
                                <img src="{{ phone.img_3.url }}" class="phone-image" alt="{{ phone.name }}">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-target="#phoneImages" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-target="#phoneImages" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </button>
                    </div>

                    <div class="phone-specs">
                        <i class="fas fa-camera phone-icon"><span class="phone-text"> {{ phone.camera }}</span></i>
                        <i class="fas fa-microchip phone-icon"><span class="phone-text"> {{ phone.os }}</span></i>
                        <i class="fas fa-mobile phone-icon"><span class="phone-text"> {{ phone.screen }}</span></i>
                        <i class="fas fa-hdd phone-icon"><span class="phone-text"> {{ phone.capacity }}</span></i>
                    </div>
                </div>

                <div class="phone-options">

                    <form action="{% url 'add_phone_bag' phone.pk %}" method="POST">
                        {% csrf_token %}
                        
                        <h3>Color:</h3>
                        <ul class="phone-list">
                            <input type="hidden" name="color" value="{{ phone.color_1 }}">
                            <li>
                                <a class="phone-form" id="color-1" href="javascript:void(0)"><p class="phone-color">{{ phone.color_1 }}</p></a>
                            </li>
                            {% if phone.color_2 %}
                                <input type="hidden" name="color" value="{{ phone.color_2 }}">
                                <li>
                                    <a class="phone-form" id="color-2" href="javascript:void(0)"><p class="phone-color">{{ phone.color_2 }}</p></a>
                                </li>
                            {% endif %}
                            {% if phone.color_3 %}
                                <input type="hidden" name="color" value="{{ phone.color_3 }}">
                                <li>
                                    <a class="phone-form" id="color-3" href="javascript:void(0)"><p class="phone-color">{{ phone.color_3 }}</p></a>
                                </li>
                            {% endif %}
                            {% if phone.color_4 %}
                                <input type="hidden" name="color" value="{{ phone.color_4 }}">
                                <li>
                                    <a class="phone-form" id="color-4" href="javascript:void(0)"><p class="phone-color">{{ phone.color_4 }}</p></a>
                                 </li>
                            {% endif %}
                            <!-- Use JS for colors -->
                        </ul>
                           
                        <h3>Storage:</h3> 
                        <ul class="phone-list"> 
                            <input type="hidden" name="storage" value="{{ phone.storage_1 }}" data-price="{{ phone.price_1 }}">
                            <!-- value of storage and data-set of price -->
                            <li>
                                <a class="phone-form" href="javascript:void(0)">{{ phone.storage_1 }} GB</a>
                            </li>
                            {% if phone.storage_2 %}
                                <input type="hidden" name="storage" value="{{ phone.storage_2 }}" data-price="{{ phone.price_2 }}">
                                <li>
                                    <a class="phone-form" href="javascript:void(0)">{{ phone.storage_2 }} GB</a>
                                </li>
                            {% endif %}
                            {% if phone.storage_3 %}
                                <input type="hidden" name="storage" value="{{ phone.storage_3 }}" data-price="{{ phone.price_3 }}">
                                <li>
                                    <a class="phone-form" href="javascript:void(0)">{{ phone.storage_3 }} GB</a>
                                </li>
                            {% endif %}
                            {% if phone.storage_4 %}
                                <input type="hidden" name="storage" value="{{ phone.storage_4 }}" data-price="{{ phone.price_4 }}">
                                <li>
                                    <a class="phone-form" href="javascript:void(0)">{{ phone.storage_4 }} GB</a>
                                 </li>
                            {% endif %}
                        </ul>

                        <div class="phone-bag">
                            <h3>Total cost: Â£{{ phone.price }}</h3>
                            <!-- This should display the selected storages price -->
                            <h5>Quantity:
                                <select name="quantity" id="quantity">
                                    <option value="1" selected>1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select>
                            </h5>
                            <button type="submit" class="bag-btn" id="add-bag-btn">Add to basket</button>
                            <input type="hidden" name="redirect_url" value="{{ request.path }}">
                        </div>
                        
                    </form>
                </div>

                <div class="phone-review">
                    <h2 class="text-center">Reviews</h2>
                    <div class="user-review">
                        <h5>User name</h5>
                        <h3>Review title</h3>
                        <h4>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </h4>
                        <p>
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                            Review text Review text Review text Review text Review text
                        </p>
                    </div>
                </div>

            </div>
        </div> 
    </div>
{% endblock %}

{% block postloadjs %}
    <script type="text/javascript" src="{% static 'js/phone.js' %}"></script>
{% endblock %}